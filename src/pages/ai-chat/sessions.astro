---
import SidebarLayout from '../../layouts/SidebarLayout.astro';
import AISessionComponent from '../../components/AISessionComponent.tsx';
import SessionTimer from '../../components/SessionTimer.tsx';

// Check if this is a new session based on URL parameters
const url = new URL(Astro.request.url);
const isNewSession = url.searchParams.get('new') === 'true';
---

<SidebarLayout title="Genascope AI Chat">
  <SessionTimer client:load />
  <main class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold text-center mb-8 text-blue-700">AI-Powered Cancer Risk Assessment</h1>
    <AISessionComponent isNewSession={isNewSession} client:load />
  </main>
</SidebarLayout>
